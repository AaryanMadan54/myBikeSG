<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Account.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Account.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Constains the values of all numbers we hash our passwords against
const HASHVALS = [[100207, 100799], [101021, 101749], [103787, 102149]];

class Account 
{
    /**
     * Creates a new Account object.
     * @constructor 
     * @param {string} emaildID 
     * @param {string} DOB Date of birth
     * @param {string} Name 
     */
    constructor(emaildID, DOB, Name)
    {
        /**
         * The email ID of the Account.
         * @private
         */
        this.emaildID = emaildID;
        /**
         * Date of Birth.
         * @private
         */
        this.DOB = DOB;
        /**
         * User Name
         * @private
         */
        this.Name = Name;
        /**
         * Boolean indicating whether account is disabled.
         * @private
         */
        this.isDisabled = true;
        /**
         * Password of the account.
         * @private
         */
        this.password = [[0, 0], [0, 0], [0, 0]];
    }
    /**
     * Returns the emailID of the account.
     * @returns {string}
     */
    getEmailID()
    {
        return this.emaildID;
    }
    /**
     * Returns the date of birth.
     * @returns {string}
     */
    getDOB()
    {
        return this.DOB;
    } 
    /**
     * Set the date of birth.
     * @param {string} DOB 
     */
    setDOB(DOB)
    {
        this.DOB = DOB;
    }
    /**
     * Returns the name of the user.
     * @returns {string}
     */
    getName()
    {
        return this.Name;
    }
    /**
     * Set the name of the user.
     * @param {string} Name 
     */
    setName(Name)
    {
        this.Name = Name;
    }
    /**
     * Set account status as disabled.
     */
    disableAcc()
    {
        this.isDisabled = true;
    }
    /**
     * Change password linked to the account.
     * @param {string} password 
     */
    updatePassword(password)
    {
        for(var i = 0; i &lt; 3; i++)
        {
            for(var j = 0; j &lt; 2; j++)
            {
                this.password[i][j] = this.hash(password, HASHVALS[i][j]);
            }
        }
        this.isDisabled = false; // Password must be changed to un-disable account 
    }
    hash(password, divisor)
    {
        var number = password.charCodeAt(0) % divisor;
        for (var i = 1; i &lt; password.length; i++) 
        {
            number = (256*number) + password.charCodeAt(i);
            number %= divisor;
        }
        return number;
    }
    /**
     * Method to check if password entered by user is correct.
     * Returns 1 if password is correct.
     * Returns 2 if password is disabled.
     * Returns 0 if password is incorrect.
     * @param {string} password 
     * @returns {number}
     */
    checkPassword(password)
    {
        if(this.isDisabled)
        {
            return 2;
        }
        let no = Math.floor(3*Math.random());
        for (var j = 0; j &lt; 2; j++)
        {
            if(this.hash(password, HASHVALS[no][j]) != this.password[no][j])
            {
                return 0;
            }
        }
        return 1;
    }
}
module.exports = Account;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AccMgr.html">AccMgr</a></li><li><a href="Account.html">Account</a></li><li><a href="AddRacks.html">AddRacks</a></li><li><a href="FindRacks.html">FindRacks</a></li><li><a href="FindRepairShop.html">FindRepairShop</a></li><li><a href="FindRoute.html">FindRoute</a></li><li><a href="OTP.html">OTP</a></li><li><a href="ReqMgr.html">ReqMgr</a></li><li><a href="Request.html">Request</a></li><li><a href="Verifier_Acc.html">Verifier_Acc</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Fri Apr 01 2022 01:12:56 GMT+0800 (Singapore Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
